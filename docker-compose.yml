version: '3'

networks:
  net1:
    driver: bridge

services:
  postgres:
    image: 'mdillon/postgis:9.6'
    networks:
      - net1
    ports:
      - '5432:5432'

  bety:
    image: 'pecan/bety:latest'
    networks:
      - net1
    ports:
      - '3000:3000'
    links:
      - postgres:pg

  pecan-core:
    depends_on:
       - postgres
       - bety
    build:
      context: .
      dockerfile: Dockerfile
    networks:
      - net1
    ports:
      - '8787:8787'
    volumes:
      - /home/skywalker/pecandata:/pecandata
